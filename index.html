<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>SnakeViz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A browser based Python profile viewer.">
    <meta name="author" content="jiffyclub">

    <!-- Le styles -->
    <link href="./bootstrap/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 40px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Stats table. -->
    <script src='https://www.google.com/jsapi'></script>
    <script>
      google.load('visualization', '1', {packages:['table']});
      google.setOnLoadCallback(drawTable);
      function drawTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('number', 'ncalls');
        data.addColumn('number', 'tottime');
        data.addColumn('number', 'percall');
        data.addColumn('number', 'cumtime');
        data.addColumn('number', 'percall');
        data.addColumn('string', 'filename:lineno(function)')
        data.addRows([
          [{v: 2, f: "2"},
             {v: 4e-06, f: "       4e-06"},
             {v: 2e-06, f: "       2e-06"},
             {v: 4e-06, f: "       4e-06"},
             {v: 2e-06, f: "       2e-06"},
             "~:0(<method 'nonzero' of 'numpy.ndarray' objects>)"],[{v: 1, f: "1"},
             {v: 3e-06, f: "       3e-06"},
             {v: 3e-06, f: "       3e-06"},
             {v: 3e-06, f: "       3e-06"},
             {v: 3e-06, f: "       3e-06"},
             "fromnumeric.py:1211(shape)"],[{v: 2, f: "2"},
             {v: 3e-06, f: "       3e-06"},
             {v: 1.5e-06, f: "     1.5e-06"},
             {v: 3e-06, f: "       3e-06"},
             {v: 1.5e-06, f: "     1.5e-06"},
             "~:0(<getattr>)"],[{v: 30, f: "30"},
             {v: 0.00011, f: "     0.00011"},
             {v: 3.66666666667e-06, f: " 3.66667e-06"},
             {v: 0.00011, f: "     0.00011"},
             {v: 3.66666666667e-06, f: " 3.66667e-06"},
             "~:0(<method 'argsort' of 'numpy.ndarray' objects>)"],
        ]);
        var table = new google.visualization.Table(document.getElementById('table_div'));
        table.draw(data, {sortColumn: 3, sortAscending: false});
      }
    </script>
  </head>

  <body data-spy="scroll" data-target=".navbar">
    <!-- navbar -->
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">SnakeViz</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li><a href="#home">Home</a></li>
              <li><a href="#usage">Using SnakeViz</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <!-- Everything else. -->
    <div class="container">
      <!-- GitHub ribbon -->
      <a href="https://github.com/jiffyclub/snakeviz">
        <img style="position: absolute; top: 10; right: 0; border: 0;"
             src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
             alt="Fork me on GitHub">
      </a>
      <!-- Cover image, tag line, and summary paragraphs -->
      <section id="home">
        <div class="row" style="text-align: center">
          <img src="./images/profile_cover_image.png"   height=50% width=50%>
          <p class="lead">An In-Browser Python Profile Viewer</p>
        </div>
        <div class="row">
          <div class="span4 offset2">
            <p>
              SnakeViz is a tool for graphically inspecting Python profiles
              made with Python's
              <a href="http://docs.python.org/library/profile.html">built in profilers</a>.
              Just save a profile and run
              <code>snakeviz name_of_profile</code> to launch the viewer
              in your default browser.
            </p>
          </div>
          <div class="span4">
            <p>
              SnakeViz was inspired by the wxPython based
              <a href="http://www.vrplumber.com/programming/runsnakerun/">RunSnakeRun</a>.
              We wanted to SnakeViz to be easily accessible on any platform
              so we made it run in your web browser. It's based on
              <a href="http://www.tornadoweb.org/">Tornado</a> and
              <a href="http://jinja.pocoo.org/">Jinja2</a> and uses
              <a href="http://d3js.org/">D3.js</a> for visualization.
            </p>
          </div>
        </div>
      </section>
      <!-- Usage section -->
      <section id="usage">
        <div class="row">
          <div class="span8 offset2">
            <h4>Using SnakeViz</h4>
            <div style="text-align: center">
              <img src="./images/norm_fit_profile.png" height=30% width=30%>
            </div>
            <h5>Look</h5>
            <p>
              SnakeViz displays your profile as a sunburst visualization
              where the amount of time spent inside of functions is
              represented by the angular extent of the nodes in the
              sunburst. A node which wraps most of the way around the
              circle represents a function in which your program is spending
              most of its time. A node which is very skinny represents a
              function which is using hardly any time at all.
            </p>
            <p>
              Functions don't just spend time calling other functions,
              they also have their own internal time. SnakeViz shows
              this by putting a special child on each node that
              represents internal time. Only functions that call other
              functions will have this, functions with no calls are entirely
              internal time.
            </p>
            <br>
            <div style="text-align: center">
              <img src="./images/tooltip_example.png">
            </div>
            <h5>Hover</h5>
            <p>
              Hovering your mouse over a node will highlight that node and
              any others that represent the same function. A floating
              tooltip will tell you the name of the function, where the
              function is located, and the cumulative time spent in calls
              to that function.
            </p>
            <br>
            <div style="text-align: center">
              <img src="./images/zoomed_example.png"  height=30% width=30%>
            </div>
            <h5>Click</h5>
            <p>
              Clicking on a node will zoom the visualization,
              allowing you to magnify different parts of the
              profile. Clicking in the center of the sunburst will zoom out
              one level and clicking the "Reset" button will return the
              visualization to its most zoomed-out state.
            </p>
            <br>
            <div id="table_div"></div>
            <h5>Table</h5>
            <p>
              Below the visualization is a table similar to the one
              printed by
              <a href="http://docs.python.org/library/profile.html#pstats.Stats.print_stats">pstats</a>.
              Except this one is powered by Google JavaScript and you can
              sort it! Click on the column names to sort in either descending
              or ascending order. By default it will be sorted in descending
              order by cumulative time.
            </p>
          </div>
        </div>
      </section>

    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://code.jquery.com/jquery-1.8.1.min.js"></script>
    <script src="./bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>
